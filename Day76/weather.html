<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>서울 시간대별 날씨</title>
    <!-- Chart.js CDN 추가 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; background-color: #f4f7f9; }
        .chart-container { width: 80%; max-width: 900px; padding: 20px; background-color: white; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }
        h1 { text-align: center; color: #333; }
    </style>
</head>
<body>
    <div class="chart-container">
        <h1>서울 시간대별 기온 예측</h1>
        <canvas id="weatherChart"></canvas>
    </div>

    <script>
        // --- 데이터 준비 ---
        // TODO: 이 부분에 OpenWeather API 호출 코드를 작성하고 결과를 파싱합니다.
        // API 키가 필요하므로, 여기서는 임시 예제 데이터를 사용합니다.
        // API 응답 예시: 3시간 간격의 예보 데이터
        const labels = ["00시", "03시", "06시", "09시", "12시", "15시", "18시", "21시"];
        const data = [3.5, 2.8, 2.1, 5.0, 9.5, 12.1, 10.3, 7.2];

        /*
        // 실제 API 사용 시 예시 코드 (API 키를 발급받아 'YOUR_API_KEY'를 대체하세요)
        const API_KEY = 'YOUR_API_KEY';
        const city = 'Seoul';
        const url = `https://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${API_KEY}&units=metric`;

        fetch(url)
            .then(response => response.json())
            .then(apiData => {
                const forecastList = apiData.list.slice(0, 8); // 향후 24시간 (3시간 * 8)
                const labels = forecastList.map(item => {
                    const date = new Date(item.dt_txt);
                    return `${date.getHours()}시`;
                });
                const data = forecastList.map(item => item.main.temp);

                // 차트 생성 함수 호출
                createChart(labels, data);
            })
            .catch(error => console.error('Error fetching weather data:', error));
        */


        // --- 차트 생성 ---
        function createChart(labels, data) {
            const ctx = document.getElementById('weatherChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: '기온 (°C)',
                        data: data,
                        fill: false,
                        borderColor: 'rgb(75, 192, 192)',
                        tension: 0.1,
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: '오늘의 시간대별 기온 변화'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            title: {
                                display: true,
                                text: '온도 (°C)'
                            }
                        }
                    }
                }
            });
        }

        // 임시 데이터로 차트 생성
        createChart(labels, data);
    </script>
</body>
</html>
